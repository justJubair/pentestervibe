import { FC, useEffect, useRef } from 'react';

import { whatYouWillLearnData } from '../../assets/home-static-data';
import  './homepage.css';
const FourthSection: FC = () => {
	const cardsRef = useRef<HTMLDivElement>(null);

	// handle side effect for handle mouse move
	useEffect(() => {
		const handleMouseMove = (e: MouseEvent) => {
			if (cardsRef.current) {
				for (const card of cardsRef.current.getElementsByClassName("card")) {
					const rect = card.getBoundingClientRect(),
						x = e.clientX - rect.left,
						y = e.clientY - rect.top;

					(card as HTMLElement).style.setProperty("--mouse-x", `${x}px`);
					(card as HTMLElement).style.setProperty("--mouse-y", `${y}px`);
				}
			}
		};

		if (cardsRef.current) {
			cardsRef.current.addEventListener("mousemove", handleMouseMove);
		}

		return () => {
			if (cardsRef.current) {
				cardsRef.current.removeEventListener("mousemove", handleMouseMove);
			}
		};
	}, []);
	return (
		<div className='relative w-full max-w-6xl mx-auto mt-10 lg:px-7'>
			<h1 className='w-full flex justify-center h-10'>
				<img
					src='/svg/shapes/home-page/header-learn.svg'
					alt='second-section-header'
				/>
			</h1>

			<div className='grid grid-cols-2 gap-5 mt-16' ref={cardsRef}>
				{whatYouWillLearnData.map((data, index) => (
					<div
						key={index}
						className="card bg-glass backdrop-blur-md rounded-3xl border border-white/10 h-[280px] flex flex-col relative"
					>
						<div className="absolute inset-1 z-10 border-inherit lg:py-20 w-full flex flex-col flex-grow gap-6 items-center justify-center">
							<img src={data.svg} alt={data.title} className='w-28' />
							<h3 className='text-white text-3xl font-semibold'>{data.title}</h3>
						</div>
					</div>
				))}
			</div>
		</div>
	);
};

export default FourthSection;
