import { FC, useState } from 'react';
import AllReportsTable from '../../../../components/dashboard/Reports/AllReportsTable';
import { IoSearchOutline } from 'react-icons/io5';
import { FaFilter } from 'react-icons/fa';
import { SlCalender } from 'react-icons/sl';
import { Popover, PopoverContent, PopoverTrigger } from '../../../../components/ui/popover';
import { Calendar } from '../../../../components/ui/calendar';


const ReportsPage: FC = () => {
    const [reportsFilterModal, setReportsFilterModal] = useState<boolean>(false);

    return (
        <div className='dashboard-box'>
            <div className='flex items-center justify-between'>
                <h4 className="text-2xl font-bold">All User Reports</h4>
                <div className='flex items-center relative'>
                    <div className='relative z-50'>
                        <IoSearchOutline className='absolute top-4 left-3' />
                        <input className='bg-[#4740583B] outline-none rounded-xl max-w-[363px] py-3 px-4 pl-9 w-full' placeholder='Search' />
                    </div>
                    <button onClick={() => setReportsFilterModal(!reportsFilterModal)} className='text-black/70 ml-3 bg-white py-3 px-6 rounded-xl z-50 font-semibold flex items-center justify-center gap-2'>
                        <FaFilter /> Filter
                    </button>
                    <div>
                        <div className={`bg-accent py-10  px-7 w-full backdrop-blur-md rounded-xl space-y-3 absolute z-40 left-0 top-0 origin-top duration-150 ${reportsFilterModal ? 'scale-y-100' : 'scale-y-0'}`}>
                            <div>
                                <h5 className='text-lg font-bold mt-4'>Status</h5>
                                <div className='flex items-center justify-between gap-3 w-full my-2'>
                                    <button className="px-5 backdrop-blur-md rounded-[10px] font-semibold text-secondary bg-[#201B2E] py-3  w-full flex-1">Give Points</button>
                                    <button className="px-5 backdrop-blur-md rounded-[10px] bg-[#201B2E] font-semibold py-3  w-full flex-1">Checked</button>
                                </div>
                            </div>
                            <div>
                                <h5 className='text-lg font-bold'>Submission Date</h5>
                                <div className='flex items-center justify-between gap-3 w-full my-2'>
                                    <Popover>
                                        <PopoverTrigger asChild>
                                            <button
                                                className={"w-[240px] pl-3 text-left font-normal flex items-center justify-center bg-[#4740583B] outline-none rounded-xl max-w-[363px] py-3 px-4 text-white/40 gap-3"}
                                            >
                                                <SlCalender />
                                                <span>dd/mm/yyyy</span>
                                            </button>
                                        </PopoverTrigger>
                                        <PopoverContent className="w-auto p-0" align="start">
                                            <Calendar
                                                mode="single"
                                                initialFocus
                                                className='bg-accent'
                                            />
                                        </PopoverContent>
                                    </Popover>
                                </div>
                            </div>
                        </div>
                    </div>
                    {
                        reportsFilterModal &&
                        <div className='fixed h-full w-[1564px] top-0 right-0 bg-[#050110]/80 flex items-center justify-center z-30'>

                        </div>
                    }
                </div>
            </div>
            <AllReportsTable />
        </div>
    );
};

export default ReportsPage;